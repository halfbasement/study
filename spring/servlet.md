# servlet

## 서블릿
1. 의미있는 비즈니스 로직을 제외한 처리를 서블릿이 다 해줌
2. 톰캣처럼 서블릿을 지원하느 was를 서블릿 컨테이너라고 함
3. 서블릿 객체는 싱글톤으로 관리( 공유변수 사용 주의 )
4. **동시 요청을 위한 멀티 쓰레드 처리 지원**

## 쓰레드
- 애플리케이션 코드를 하나하나 순차적으로 실행하는 것 쓰레드
- 자바 메인 메서드를 처음 실행하면 main이라는 이름의 쓰레드가 실행
- 쓰레드가 없다면 자바 애플리케이션 실행이 불가능
- 한번에 하나의 코드라인만 수행
- 동시 처리가 필요하면 쓰레드를 추가로 생성

1. **요청 마다 쓰레드생성**

- 단점
1. 쓰레스 생성 비용이 매우 비쌈
2. 생성제한이 업어서 cpu메모리 임계점을 넘어서 서버가 죽을수도있다
3. 컨텍스트 스위칭(쓰레드교체) 비용이 발생

2. **쓰레드풀 사용 ( 쓰레드 풀 안에 쓰레드 여러개를 생성해놨다가 요청마다 사용)**
- 생성해놓은 쓰레드보다 많은 요청이 오면 대기 , 거절 함

-  쓰레드 풀 실무 팁
1. WAS의 주요 튜닝 포인트는 최대 쓰레드 수를 설정 하는 것
쓰레드 수를 잘 잡자 (쓰레드 풀의 쓰레드 적정 숫자 찾기)
- 이건 로직의 복잡도 ,CPU , 메모리 등 고려 할게 너무 많음
- 성능테스트를 해야함 ( 아파치 , 제이미터 등)


